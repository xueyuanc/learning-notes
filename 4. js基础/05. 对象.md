# 1.对象介绍

定义：对象是一种可以存储多个数据的复杂数据类型（以键值对的方式存储）

什么情况下用对象：多个数据类型，无序，例如存储一个人的姓名、年龄、性别，阅读性较高

## 数组与对象的异同点

1. 相同点：都是复杂数据类型，都可以存储多个数据
2. 不同点： 存储方式不同
   - 数组： 有序存储，数组一般用来存储相同数据类型的数据 
   - 对象： 无序存储（键值对）-> 打印的键值对可以和书写顺序不一样，对象一般用来存储不同数据类型的数据，包括字符串、数字、数组、函数、对象

> document.write()在页面打印数据（文本或者数字），不要在页面打印数组、函数和对象本身，展示的话需要取出其中的元素或者对象里的属性或方法。console.log()是查看内存的，多用这个

# 2.对象语法（重点）

本质还是一个变量，对象没有长度。以键值对来存储的复杂数据类型，键值对（属性名和属性值一一对应）

## 2.1. 声明对象 (声明的时候可以赋初始值)

语法：

```js
let 对象名 = {
              
                属性名:属性值,
                属性名:属性值,
                // 如果对象的属性值是一个函数，我们称之为对象的方法（函数叫方法）
                方法名:函数/方法
                ...（多个属性之间用逗号隔开，最后一个不打逗号,和数组一样用逗号隔开）
            }
```

属性名相当于数组中的下标，只不过对象是无序的，属性名本质上来说是依附在对象上的变量

如果对象的属性值是一个函数，我们称之为对象的方法（函数叫方法）

```js
let obj = {
      // 字符串
      name: '张三',
      sex: '男',
      // 数字
      age: 20,
      // 数组
      hobby: ['学习', '上课', '敲代码'],
      // 函数（可以是匿名或者有参数的函数）  方法名：函数/方法
      eat: function () {
        console.log(1111)
      },
      // 对象 还是叫属性名：属性值
      friend: {
        name: '李四',
        age: 20
      }
    }
    console.log(obj)
```

> 可以声明一个空对象，然后赋值 `let objNew = {}`

## 2.2. 取值语法

取值要么赋值给变量或者直接用，要么打印`let 变量名=对象名.属性名`

```js
	console.log(obj.name) //'张三'
    console.log(obj.hobby[1]) //'上课'
    // 函数是拿来调用的，不是用来取值的,obj.eat不加小括号只是取得函数那串代码，加了小括号才是调用
    obj.eat() //1111，不是undefined（调用函数，函数有执行结果无形参无返回 函数的值打印或者储存时为undefined）
    let res = obj.eat()
    console.log(res) //undefined
    // obj.friend只是取得对象obj里面存的那个friend对象的值，对象嵌套
    console.log(obj.friend.name) //'李四'
```

## 2.3. 注意点

由于对象里面可以存取多种数据类型，所以存在各种数据类型嵌套的用法，当对象中的属性是什么数据类型，取出来的时候可以使用这个类型的所有语法

1. 对象的属性值是数组， 则可以： 对象名.属性名[下标]
2. 对象的属性值是函数， 则可以： 对象名.属性名() 
3. 对象的属性值是对象，则可以：对象名.属性名.属性名

# 3.对象操作（重点）

## 3.1. 增（和改是同一个语法，没有就新增）

`对象名.属性名= 值`或者`对象名['属性名'] = 值`，不要加`let`！

- 如果不存在的属性赋值，则是新增
- 如果已经存在的属性赋值，则是修改（覆盖和数组一样）

```js
		obj.name = '李四' //修改
        obj.bdy = '11.2' //新增赋值
```

可以为对象添加方法，记住新增不用let

```js
        obj.eat = function () {
            console.log(222)
```

## 3.2. 删

删除对象属性（一般不用`delete 对象性.属性名`）

## 3.3. 改（存在就修改）

同新增一样的语法，存在就修改

## 3.4. 查（首先要查到）

### 3.4.1. 查询对象特点

1. 如果属性名存在，则获取属性值
2. 如果属性名不存在，则获取undefined（和数组一样）

> null不可能自动出来，必须手动赋值才会出现，其他情况没有的值一律undefined

### 3.4.2. 查询对象语法

查询对象属性两种语法

1. 点语法` obj.属性名`（开发中用的最多的）

```js
console.log(obj.eat) //['学习', '上课', '敲代码']
```

2. [ ]语法
   - 加了引号为字符串` obj['属性名']` //解析为属性名等同于`obj.属性名`
   - 没加引号 `obj[变量名]` //解析为变量名

```js
		console.log(obj['age']) //20
        let age = 'sex'
        console.log(obj[age]) //'男' 如果变量未声明会报错
```

[ ]语法可以通过加不加引号用来解析变量，如果不需要解析变量，就不用中括号，用点语法（开发中常用点语法）

# 4.对象遍历

数组遍历

```js
遍历数组： 固定for循环
        for(let i = 0;i< arr.length;i++){   arr[i] }
```

对象遍历

```js
遍历对象 ： 特殊的for-in循环  （专用于遍历对象）
        for(let key in 对象名){ 对象名[key] }
```

> - for-in遍历在开发中几乎不用，用的最多的还是数组
> - 对象本身是无序的，遍历的时候也是无序的，不确定性非常高，不知道遍历出来的顺序，常用的还是对象的查询取值

```js
let obj = {
      name: '张三',
      age: 20,
      sex: '男'
    }
for (let key in obj) {
      console.log(key) //循环变量：属性名
      console.log(obj[key]) //key是变量，变量取值需要解析变量，使用中括号[]语法，key用i也可以但是不规范
```

# 5. 根据数组对象渲染表格

数组中的元素是对象类型称为**对象数组**或者**数组对象**

需求：将对象数组渲染到页面表格中

```js
<script>
    let students = [{number: 1,name: '小明',age: 20,gender: '男',class: '一年级'}, 
                    {number: 2,name: '小红',age: 22,gender: '女',class: '二年级'}, 
                    {number: 3,name: '小白',age: 20,gender: '男',class: '六年级'}, 
                    {number: 1,name: '小张',age: 16,gender: '男',class: '五年级'}]
    // 需求：将对象数组渲染到页面表格中
    document.write('<table>')
    document.write(`<tr>
    <th>序号</th>
    <th>姓名</th>
    <th>年龄</th>
    <th>性别</th>
    <th>年级</th>
    </tr>`)
    // for循环不能写在document.write方法里面，这里面只能取变量，对象的属性名也相当于是一个变量
    for (let i = 0; i < students.length; i++) {
      document.write(`
      <tr>
      <td>${students[i].number}</td>
      <td>${students[i].name}</td>
      <td>${students[i].age}</td>
      <td>${students[i].gender}</td>
      <td>${students[i].class}</td>
      </tr>
    `)
    }
    document.write('</table>')
  </script>
```

# 5.内置对象Math

内置对象 ： 由js作者提前写好的对象,我们直接拿来使用即可，相当于手机内置应用,如短信、电话。 一买来就自带的，直接使用就行

Math：数学对象、documnet：dom对象

> document、console就是内置对象，每一个对象可能有几十个方法，但真正常用的就那么几个方法，就像html标签一样，常用的标签就那么几十个

```js
	Math.PI //圆周率
    Math.abs(-5) //绝对值
    Math.pow(2, 3) // 求x的y次方
    Math.round(3.2) //四舍五入
    Math.ceil(0, 2) //向上取整
    Math.floor(23.3) //向下取整
```

vscode中蓝色的是属性（没有小括号），紫色的是方法（需要加小括号进行方法的调用）

常用方法

1. 求一组数据的最大值，返回这一串数字里面的最大值，最小值同理

```js
	Math.max(12, 23, 12, 32, 1)
    let res = Math.max(12, 23, 12, 32, 1)
    console.log(res)
```

2. 求一个随机数，返回0-1的一个随机小数能拿到0和1的概率很小几乎为0，要拿到0-255的整数，乘以255并转换整数或者向上/向下取整即可

```js
 	// 拿1-100包括1和100
    console.log(Math.ceil(Math.random() * 100))
    // 拿100-255 ->(0-155)+100，包括100和255
    console.log((Math.floor(Math.random() * 156)) + 100)

    // 返回0-255包含0和255，应用向下取整或者取整数
    console.log(parseInt(Math.random() * 256))
    console.log(Math.floor(Math.random() * 256))
```

## 5.1.  应用1

需求1：封装一个函数，返回一个随机颜色  rgb(255,255,255)，可以拿到0和255

```js
	function getColor() {
            let a = Math.floor(Math.random() * 256),
                b = Math.floor(Math.random() * 256),
                c = Math.floor(Math.random() * 256)
            return `rgb(${a}, ${b}, ${c})`
        }
        console.log(getColor())
```

需求2：返回一个十六进制的随机颜色，如#333acf

```js
做法1：
	function getColor16() {
            let arr = []
            for (let i = 0; i < 3; i++) {
                // 生成0-255，包括0和255
                arr[i] = Math.floor(Math.random() * 256)
                if (arr[i] < 16) {
                    arr[i] = `0${arr[i].toString(16)}`
                } else {
                    arr[i] = arr[i].toString(16)
                }
                arr[i] = arr < 16 ? `0${arr[i].toString(16)}` : arr[i].toString(16)
            }
            return `#${arr[0]}${arr[1]}${arr[2]}`
        }
        console.log(getColor16())
```

```js
做法2：
function color1() {
            let str = "#"
            for (let i = 1; i <= 6; i++) {
                let a = parseInt(Math.random() * 16).toString(16)
                str += a
                return str
            }
        }

```

## 5.2. 应用2

需求：猜谜游戏：生成一个1-100之间的随机整数让用户猜，如果用户猜大了或者猜小了，提示用户，直到用户猜对为止

```js
function guessRiddle(value) {
      let a = +prompt('请输入数字'),
        num = Math.ceil(Math.random() * 100)
      while (a != num) {
        if (a > num) {
          alert('猜大了')
          a = +prompt('请输入数字')
        } else {
          alert('猜小了')
          a = +prompt('请输入数字')
        }
      }
      alert('恭喜你猜对了')
    }
    guessRiddle()

```

> 不知道循环条件时，用true死循环，然后结合break结束循环

# 6.值类型与引用类型（重点）

## 6.1. 了解下内存知识

这里涉及到浏览器的内存原理，内存空间分为栈空间和堆空间

- 栈空间：占很小空间，存储速度极快，效率很高，只能存少量数据
- 堆空间：占很大空间，存储没有限制，效率较低 

## 6.2. 具体分析

js数据类型有很多种，分为两大类

1. 值类型（简单数据类型）：字符串、数字、布尔、undefined、null
   栈中存储的是数据，赋值拷贝的也是数据。修改拷贝后的数据，对原数据没有影响
2. 引用类型（复杂数据类型）：数组、函数、对象
   栈中存储的是地址，数据存在堆中。赋值拷贝的是地址，修改拷贝后的数据对原数据有影响

对简单数据类型时，赋值是直接在栈中储存，对复杂数据类型来说，是把数据在堆中存储的地址赋值给变量存在栈中，栈中存的是地址

```js
		// 值类型
        let num1 = 10,
            num2 = num1
        num2 = 100
        console.log(num1, num2) // 10 100 赋值后源值没变

        //引用类型
        let arr1 = [10, 20, 30],
            arr2 = arr1
        arr2[0] = 100
        console.log(arr1, arr2) //[100,20,30] [100,20,30] 赋值后源值变了

```

let 只能在栈中开启一个变量的内存空间，变量名只能操作栈空间

变量名、数组名、函数名、对象名都存在栈中，数组的中括号[]决定数据存在堆中，函数的function决定函数存在堆中，对象的大括号{}决定对象存在堆中

```js
		let arr3 = [10, 20],
            arr4 = [10, 20]
        console.log(arr3 == arr4) //false 复杂数据类型比较时，比的是地址，地址不同不相等

```

只有数组通过赋值时两个数组才相等，赋的值是地址，两个数组地址相等

> 字符串比较的时候，只比较第一位，十六进制：'12'<'f'

## 6.3. undefined与null

- 只定义变量名不赋值，会开辟一个内存空间，占据栈空间，打印undefined（表示此处应该有一个值，但是还未定义）
- null是一个表示"无"的对象（空对象指针）会占据一定的堆空间和栈空间
- [ ]空数组（有一个length=0存在堆中）和{ }空对象都占据一定的堆空间

> 1. null一定是手动增加的，不可能会 自动出来的，其他没有值得都是undefined
>   使用null的情况：
>
> 	- 用来初始化一个变量，这个变量**可能**赋值为一个对象
> 	- 用来和一个已经初始化的变量比较，这个变量可以也可以不是一个对象
> 	- 当函数的参数期望是对象时，用作参数传入
> 	- 当函数的返回期望值是对象时， 用作返回值传出
>
> 2. 返回为undefined的情况（表示此处应该有一个值，但是还未定义）
>    - 变量定义了还没赋值
>    - 没有返回值的函数（也没有执行结果）
>    - 没有实参的形参，实参默认为undefined
>    - 取数组空元素或者对象里面的空属性名(不存在)
>    - 三元表达式后面的代码1或者代码2没有结果